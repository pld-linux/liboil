--- liboil-0.3.3/configure.ac.orig	2005-09-30 01:51:05.000000000 +0200
+++ liboil-0.3.3/configure.ac	2005-10-06 07:25:22.884978056 +0200
@@ -128,6 +128,7 @@
 LIBM="-lm"
 AC_SUBST(LIBM)
 
+LIBOIL_CFLAGS="$CFLAGS"
 AS_COMPILER_FLAG(-Wall, LIBOIL_CFLAGS="$LIBOIL_CFLAGS -Wall")
 if test "x$LIBOIL_CVS" = "xyes"
 then
@@ -158,7 +159,7 @@
 AC_SUBST(SSE3_CFLAGS)
 AC_SUBST(_3DNOW_CFLAGS)
 
-LIBOIL_CFLAGS="$LIBOIL_CFLAGS -D_BSD_SOURCE -D_GNU_SOURCE -I\$(top_srcdir) -O2"
+LIBOIL_CFLAGS="$LIBOIL_CFLAGS -D_BSD_SOURCE -D_GNU_SOURCE -I\$(top_srcdir)"
 AC_SUBST(LIBOIL_CFLAGS)
 
 LIBOIL_LIBS="\$(top_builddir)/liboil/liboil-$LIBOIL_MAJORMINOR.la"
